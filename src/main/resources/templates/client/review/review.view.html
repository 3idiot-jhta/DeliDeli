<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ÏÇ¨Ïû•Îãò - Î¶¨Î∑∞ ÏÉÅÏÑ∏Î≥¥Í∏∞</title>
        <!-- Include:Í≥µÌÜµ CSS -->
        <th:block th:include="inc/common/common-css :: commonCss"></th:block>
        <!-- Include:Client CSS -->
        <th:block th:include="inc/client/client-css :: clientCss"></th:block>
        <!-- Include:Í≥µÌÜµ JS -->
        <th:block th:include="inc/common/common-js :: commonJs"></th:block>
        <!-- Include:Client JS -->
        <th:block th:include="inc/client/client-js :: clientJs"></th:block>

</head>
<body>
<div class="client-wrap">
    <!-- Start:Aside -->
    <th:block th:include="inc/client/aside :: clientAside"></th:block>
    <!-- End:Aside -->

                <!-- Start:Contents -->
                <section class="contents">
                    <h3 th:text="${store.storeName} + 'Ïùò Î¶¨Î∑∞ Î™©Î°ù'"></h3><br>

        <!-- Start:Contents -->
        <section class="contents">
            <h3 th:text="${store.storeName} + 'Ïùò Î¶¨Î∑∞ Î™©Î°ù'"></h3><br>

            <ul>
                <th:block th:each="review : ${reviewList}">
                    <li>
                        <!-- Ïã†Í≥† Î≤ÑÌäº -->
                        <a href="javascript:void(0);"
                           th:onclick="'reportReview(' + ${review.reviewKey} + ', this)'"
                           th:text="${review.reportReview ? 'Ïã†Í≥† ÏôÑÎ£å' : 'Ïã†Í≥†üö®'}"
                           th:style="${review.reportReview ? 'pointer-events: none;' : ''}">
                        </a>
                        <span th:if="${review.reviewComment == null || review.reviewComment.isEmpty()}" th:text="'ÎØ∏ÏûëÏÑ±'"></span>
                        <span th:if="${review.reviewComment != null && !review.reviewComment.isEmpty()}" th:text="'ÏûëÏÑ± ÏôÑÎ£å'"></span>

                        <p th:text="${review.userNickname}"></p>
                        [[${#temporals.format(review.reviewRegdate.toLocalDate(), 'yyyy/MM/dd')}]]
                        <p>Î≥ÑÏ†ê : [[${review.reviewRating}]]</p>
                        <p>[[${review.reviewDesc}]]</p>
                        <img th:src="${review.reviewPhoto1}" alt="1Î≤à Î¶¨Î∑∞ Ïù¥ÎØ∏ÏßÄ" th:if="${review.reviewPhoto1} != null">
                        <img th:src="${review.reviewPhoto2}" alt="2Î≤à Î¶¨Î∑∞ Ïù¥ÎØ∏ÏßÄ" th:if="${review.reviewPhoto2} != null">

                        <!-- Ï£ºÎ¨∏ Î™©Î°ù Î∞òÎ≥µ -->
                        <p>Ï£ºÎ¨∏Î©îÎâ¥</p>
                        <ul>
                            <th:block th:each="order : ${review.orderList}">
                                <th:block th:each="detail : ${order.clientOrderDetails}">
                                    <li th:if="${review.orderKey == detail.orderKey}">
                                        <span th:text="${detail.menuName} + ${detail.quantity} + 'Í∞ú'"></span>
                                        <span th:text="'(' + ${detail.optionName} + ')'"></span>
                                    </li>
                                </th:block>
                            </th:block>
                        </ul>

                        <!-- ÏÇ¨Ïû•Îãò ÎãµÎ≥Ä Ïó¨Î∂ÄÏ∞Ω -->
                        <!-- ÏûëÏÑ±ÌñàÏùÑ Îïå -->
                        <div th:if="${review.reviewComment != null && !review.reviewComment.isEmpty()}">
                            <p class="commentText" th:text="'ÏÇ¨Ïû•Îãò ÎãµÎ≥Ä : ' + ${review.reviewComment}"></p>
                            <button class="editButton" data-review-key="${review.reviewKey}">ÏàòÏ†ïÌïòÍ∏∞</button>
                            <textarea name="editComment" class="editComment" cols="30" rows="10" th:text="${review.reviewComment}" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî" style="display: none"></textarea>
                            <button class="saveButton" th:data-review-key="${review.reviewKey}" style="display: none">ÏàòÏ†ï</button>
                        </div>
                        <!-- ÏûëÏÑ± ÏïàÌñàÏùÑ Îïå -->
                        <div th:if="${review.reviewComment == null || review.reviewComment.isEmpty()}">
                            <textarea name="writeComment" class="writeComment" cols="30" rows="10" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"></textarea>
                            <button class="saveNewButton" th:data-review-key="${review.reviewKey}">Ï†ÄÏû•</button>
                        </div>
                        <br>
                    </li>
                </th:block>
            </ul>
            <!-- Start:Pagination -->
            <th:block th:include="inc/client/pagination-order :: OrderListPagination (${type})"></th:block>
            <!-- End:Pagination -->

            <script src="/client/js/module/review.view.js"></script>
        </section>
        <!-- End:Contents -->
    </main>
    <!-- End:Main -->
</div>
</body>
</html>